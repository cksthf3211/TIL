# Django
## Framework 이해
- 누군가 만들어 놓은 코드를 재사용 하는 것은 이미 익숙한 개발 문화
- ‘웹 서비스’도 누군가 개발해 놓은 코드를 재사용하면 된다!
- 자주 사용되는 부분들을 재사용 할 수 있게 좋은 구조의 코드로 만들어 두었음
- 서비스 개발에 필요한 기능들을 미리 구현해서 모아 놓은 것 = 프레임워크(Framework)
- Frame(뼈대, 틀) + Work(일하다)
- 소프트웨어의 생산성과 품질을 높임

### Django를 배워야하는 이유
- Python으로 작성된 프레임워크
    - Python이라는 언어의 강력함과 거대한 커뮤니티
- 수많은 여러 유용한 기능들
- 검증된 웹 프레임워크
    - 화해, Toss, 두나무, 당근 마켓, 요기요 등
    - 유명한 많은 서비스들이 사용한다는 것 == 안정적으로 서비스를 할 수 있다는 검증

## Web 이해하기
- WWW (World Wide Web)
- 인터넷이란?
    - 우리가 구글에 접속할 때
        - 웹 브라우저를 켠다
        - 주소창에 주소를 입력한다 (www.google.com)
    - www, 즉 World Wide Web은 ‘전 세계에 퍼져 있는 거미줄 같은 연결망’

## 클라이언트와 서버
### 클라이언트-서버 구조
- 오늘날 우리가 사용하는 대부분의 웹 서비스는 클라이언트-서버 구조를 기반으로 동작
- 클라이언트와 서버 역시 하나의 컴퓨터이며 이들이 어떻게 상호작용하는지에 대한 간소화된 다이어그램은 다음과 같음
    -  클라이언트가 서버에 요청을 보내고 서버는 클라이언트에 응답함
- 클라이언트
    - 웹 사용자의 인터넷에 연결된 장치 (예를 들어 wi-fi에 연결된 컴퓨터 또는 모바일)
    - Chrome 또는 Firefox와 같은 웹 브라우저
    - 서비스를 요청하는 주체
- 서버
    - 웹 페이지, 사이트 또는 앱을 저장하는 컴퓨터
    - 클라이언트가 웹 페이지에 접근하려고 할 때 서버에서 클라이언트 컴퓨터로 웹 페이지 데이터를 응답해 사용자의 웹 브라우저에 표시됨
    - 요청에 대해 서비스를 응답하는 주체
- 상호작용 예시
    - 예를 들어, 우리가 Google 홈페이지에 접속한다는 것은 무엇을 뜻하는지 알아보자
    - 결론적으로 인터넷에 연결된 전세계 어딘가에 있는 구글 컴퓨터에게 ‘Google 홈페이지.html’ 파일을 달라고 요청하는 것
    - 그러면 구글 컴퓨터는 우리의 요청을 받고 ‘Google 홈페이지.html’ 파일을 인터넷을 통해서 우리 컴퓨터에게 응답해줌
    - 그렇게 전달받은 Google 홈페이지.html 파일을 웹 브라우저가 우리가 볼 수 있도록 해석해주는 것
    - 여기서 ‘Google 홈페이지.html’을 달라고 요청한 컴퓨터, 웹 브라우저를 클라이언트 라고 하고 ‘Google 홈페이지.html’ 파일을 제공한 컴퓨터, 프로그램을 서버라고 함
    - 어떠한 자원(resource)를 달라고 요청(request)하는 쪽을 클라이언트라고 하고 자원을 제공해주는 쪽을 서버(server)라고 함
- 정리
    - 우리가 사용하는 웹은 클라이언트-서버 구조로 이루어져 있음
    - 앞으로 우리가 배우는 것도 이 클라이언트-서버 구조를 만드는 방법을 배우는 것
    - 이 중에서 Django는 서버를 구현하는 웹 프레임워크

## Web browser와 Web page
###  웹 브라우저란?
- 웹에서 페이지를 찾아 보여주고, 사용자가 하이퍼링크를 통해 다른 페이지로 이동할 수 있도록 하는 프로그램
- 웹 페이지 파일을 우리가 보는 화면으로 바꿔주는(렌더링, rendering) 프로그램

### 웹 브라우저 예시
- 우리가 보고 있는 웹 페이지는 사실 HTML 문서 파일 하나
- google 홈페이지를 예로 들면 우리는 구글 로고가 있는 예쁜 화면을 보지만,  사실 빼곡한 코드로 작성된 HTML 문서를 서버로 부터 전달받게 됨
- 즉, 웹 페이지 코드를 받으면 우리가 보는 화면처럼 바꿔주는 것이 바로 웹 브라우저
- HTML / CSS / JS 등의 코드를 읽어 실제 사람이 볼 수 있는 화면으로 만들어 줌

### 웹 페이지란?
- 웹에 있는 문서
    - 우리가 보는 화면 각각 한 장 한 장이 웹 페이지
- 웹 페이지 종류
    - 정적 웹 페이지
    - 동적 웹 페이지

### 정적 웹 페이
- Static Web page
- 있는 그대로를 제공하는 것(served as-is)을 의미
- 우리가 지금까지 작성한 웹 페이지이며 한 번 작성된 HTML 파일의 내용이 변하지 않 고 모든 사용자에게 동일한 모습으로 전달되는 것
    - == 서버에 미리 저장된 HTML 파일 그대로 전달된 웹 페이지
    - == 같은 상황에서 모든 사용자에게 동일한 정보를 표시

### 동적 웹 페이지
- Dynamic Web page
- 사용자의 요청에 따라 웹 페이지에 추가적인 수정이 되어 클라이언트에게 전달되는 웹 페이지
- 웹 페이지의 내용을 바꿔주는 주체 == 서버
    - 서버에서 동작하고 있는 프로그램이 웹 페이지를 변경해줌
    - 이렇게 사용자의 요청을 받아서 적절한 응답을 만들어주는 프로그램을 쉽게 만들 수 있게 도와주는 프레임워크가 바로 우리가 배울 Django
- 다양한 서버 사이드 프로그래밍 언어(python, java, c++ 등) 사용 가능 파일을 처리하고 데이터베이스와의 상호작용이 이루어짐
- 이 중에서 Python을 이용해서 개발할 수 있는 프레임워크인 Django를 학습하는 것

## Django 구조 이해하기 (MTV Design Pattern)
### Design Pattern 이란?
- 광안대교 같은 다리를 현수교(Suspension Bridge) 라고 함
- 교량의 양쪽 끝과 가운데 솟아있는 주탑에 케이블을 두고 상판을 메다는 형식의 공법
- 똑같은 방식을 사용해서 인천대교, 이순신대교 등이 만들어졌음
- 여러 번 짓다보니 자주 사용되는 구조가 있다는 것을 알게 되었고 이를 일반화해서 하나의 공법으로 만들어 둔 것

- 소프트웨어에서의 관점
    - 각기 다른 기능을 가진 다양한 응용 소프트웨어를 개발할 때 공통적인 설계 문제가 존재하며, 이를 처리하는 해결책 사이에도 공통점이 있다는 것을 발견
    - 이러한 유사점을 패턴이라 함

### 소프트웨어 디자인 패턴
- 소프트웨어도 수십년간 전 세계의 개발자들이 계속 만들다 보니 자주 사용되는 구조와 해결책이 있다는 것을 알게 됨
- 앞서 배웠던 클라이언트-서버 구조도 소프트웨어 디자인 패턴 중 하나
- 자주 사용되는 소프트웨어의 구조를 소수의 뛰어난 엔지니어가 마치 건축의공법처럼 일반적인 구조화를 해둔 것

### 소프트웨어 디자인 패턴의 목적
- 특정 문맥에서 공통적으로 발생하는 문제에 대해 재사용 가능한 해결책을 제시
- 프로그래머가 어플리케이션이나 시스템을 디자인할 때 발생하는 공통된 문제들을 해결하는데 형식화 된 가장 좋은 관행

### 소프트웨어 디자인 패턴의 장점
- 디자인 패턴을 알고 있다면 서로 복잡한 커뮤니케이션이 매우 간단해짐
- Before
    - ”무언가 서비스를 요청을 하는 쪽을 하나 만들고.. 둘 사이에 데이터를 주고 받는 방식을 정의 한 다음.. 요청을 처리하는 쪽을 하나 따로 개발해서.. 다수의 요청을 처리하는 구조로 만들어보자..!”
- After
    - “우리 이거 클라이언트-서버 구조로 구현하자“
- 다수의 엔지니어들이 일반화된 패턴으로 소프트웨어 개발을 할 수 있도록 한 규칙, 커뮤니케이션의 효율성을 높이는 기법

### Django에서의 디자인 패턴
- Django에도 이러한 디자인 패턴이 적용이 되어 있는데,  Django에 적용된 디자인 패턴은 MTV 패턴이다.
- MTV 패턴은 MVC 디자인 패턴을 기반으로 조금 변형된 패턴이다.

### MVC 소프트웨어 디자인 패턴
- MVC는 Model - View – Controller의 준말
- 데이터 및 논리 제어를 구현하는데 널리 사용되는 소프트웨어 디자인 패턴
- 하나의 큰 프로그램을 세가지 역할로 구분한 개발 방법론

- Model : 데이터와 관련된 로직을 관리
- View : 레이아웃과 화면을 처리
- Controller : 명령을 model과 view 부분으로 연결

### MVC 소프트웨어 디자인 패턴의 목적
- “관심사 분리”
- 더 나은 업무의 분리와 향상된 관리를 제공
- 각 부분을 독립적으로 개발할 수 있어, 하나를 수정하고 싶을 때 모두 건들지 않아도 됨
    - == 개발 효율성 및 유지보수가 쉬워짐
    - == 다수의 멤버로 개발하기 용이함

### Django에서의 디자인 패턴
- Django는 MVC 패턴을 기반으로 한 MTV 패턴을 사용 두 패턴은 서로 크게 다른 점은 없으며 일부 역할에 대해 부르는 이름이 다름
| MVC        | MTV      |
|:----------:|:--------:|
| Model      | Moder    |
| View       | Template |
| Controller | View     |
### MTV 디자인 패턴
- Model
    - MVC 패턴에서 Model의 역할에 해당
    - 데이터와 관련된 로직을 관리
    - 응용프로그램의 데이터 구조를 정의하고 데이터베이스의 기록을 관리

- Template
    - 레이아웃과 화면을 처리
    - 화면상의 사용자 인터페이스 구조와 레이아웃을 정의
    - MVC 패턴에서 View의 역할에 해당

- View
    - Model & Template과 관련한 로직을 처리해서 응답을 반환
    - 클라이언트의 요청에 대해 처리를 분기하는 역할
    - 동작 예시
        - 데이터가 필요하다면 model에 접근해서 데이터를 가져오고 가져온 데이터를 template로 보내 화면을 구성하고 구성된 화면을 응답으로 만들어 클라이언트에게 반환
    - MVC 패턴에서 Controller의 역할에 해당

### 정리
- Django는 MTV 디자인 패턴을 가지고 있음
    - Model : 데이터 관련
    - Template : 화면 관련
    - View : Model & Template 중간 처리 및 응답 반환

## Django Quick start
### Django 설치
- 설치 전 가상환경 설정 및 활성화를 마치고 진행
- Django 4.0 릴리즈로 인해 3.2(LTS) 버전을 명시해서 설치
```bash
pip install django==3.2.13
pip freeze > requirements.txt # 패키지 목록 생성
```

## My Django Development Guide

1. 프로잭트 시작
2. vs코드 실행  ( ~ : home) ( . : 현재 파일)
3. 순서 시작
```bash
cd ~                             #home : 내pc c드라이브 - 사용자 - 내아이디폴더 ()

pwd                              # 프린트 워킹 디렉토리 (절대경로) /c/users/cksth

ls                               # list: 이것저것 나옴

mkdir [폴더이름]                 # server라는 폴더를 만듬

cd [폴더이름]/                   # server 폴더에 들어감

pip list                         # package와 version을 확인

python --version                 # python version 확인: Python 3.9.13

Python -m venv [가상환경이름]-venv    # 가상환경 생성

ls -a                            # 생성 확인

cd [폴더이름]-venv/              # server-venv폴더에 들어감(가상환경을 유지하기 위한 파일이 들어있음)

ls                               # 목록 확인

cd ..                            # 한 칸 올라오기(이전 파일) 위치 주의 하기!!!

source [폴더이름]-venv/Scripts/activate # 가상환경 작동 (server-venv) 텝 으로 입력
                                 # 가상환경 안에서는 바깥에 영향을 미치지 않음
pip list                         # Django가 깔려있지 않은거 확인

---
deactivate                       # 가상환경 끄기
```
4. Django 설치
```bash
# 장고 설치
pip install  django==3.2.13      #Django 설치
# pip install  django 이건 가장 최신 버전 설치 ( 잘 안씀, 불안정함 )
pip install  django==3.2.12      #Django 설치

pip list                         # install 잘 되었는지 확인, Django 확인

pip --version                    # pip version 확인

django-admin startproject [프로젝트이름] [시작경로]  # firstpjt . ( .: 현재파일)

ls                               # project 확인

code .                           # project 코드를 열음, ls에서 확인된 폴더가 있음

python manage.py runserver       # 서버가 돌아가는 중

localhost:8000                   # 인터넷 주소창에 입력하여 서버가 잘 돌아가는지 확인

ctrl + c                         # 서버 종료
```

## 서버 기초 - MDN 문서와 외부 자료를 조사해 주어진 질문의 답을 작성
-  IP와 도메인은 무엇일까요?
    - [인터넷은 어떻게 동작하는가? \- Web 개발 학습하기 | MDN (mozilla.org)](https://developer.mozilla.org/ko/docs/Learn/Common_questions/How_does_the_Internet_work)
        - 컴퓨터를 라우터에 연결하고, 라우터에서 라우터로, 우리는 무한히 확장할 수 있습니다.

    - IP : 네트워크에 연결된 모든 컴퓨터에는 IP 주소 (IP는 인터넷 프로토콜을 나타냄)라는 고유한 주소.
        - 주소는 점으로 구분 된 네 개의 숫자로 구성된 주소입니다 .
        - 예: `192.168.2.10`.
    
    - 도메인 : 우리들은 IP주소를 기억하기 어렵죠. 그래서 우리는 '도메인 이름' 이라고하는 사람이 읽을 수 있는 IP 주소의 이름을 지정할 수 있습니다. 예를 들어 `'google.com'`은 IP 주소로 `'173.194.121.32'` 입니다. 따라서 '도메인 이름'은 'IP주소'보다 인터넷을 사용하기에 쉽습니다.

- 클라이언트와 서버는 무엇일까요?
    - [웹의 동작 방식 \- Web 개발 학습하기 | MDN (mozilla.org)](https://developer.mozilla.org/ko/docs/Learn/Getting_started_with_the_web/How_the_Web_works)

    - 클라이언트 : 일반적인 웹 사용자의 인터넷이 연결된 장치들과 이런 장치들에서 이용가능한 웹에 접근하는 소프트웨어 (일반적으로 파이어폭스 또는 크롬 과 같은 웹 브라우저) 입니다.
    - (예를 들어, 여러분의 컴퓨터는 WI-FI에 연결되어 있고, 또는 여러분의 폰은 모바일 네트워크에 연결되어 있습니다)

    - 서버 : 웹페이지, 사이트, 또는 앱을 저장하는 컴퓨터입니다. 클라이언트의 장비가 웹페이지에 접근하길 원할 때, 서버로부터 클라이언트의 장치로 사용자의 웹 브라우저에서 보여지기 위한 웹페이지의 사본이 다운로드 됩니다.

- 정적 웹 사이트와 동적 웹 사이트의 차이점은 무엇일까요? Django는 무엇을 위한 도구인가요?
    - [Introduction to the server side - Web 개발 학습하기 | MDN (mozilla.org)](https://developer.mozilla.org/ko/docs/Learn/Server-side/First_steps/Introduction)

    - 정적 웹 사이트(Static sites)
        1. 기본적인 웹 구조
        2. 정적 사이트는 특별한 리소스 요청이 들어올 때 서버에서 하드 코딩된 동일한 콘텐츠를 반환

    - 동적 웹 사이트(Dynamic sites)
        1. 필요할 때에 동적으로 응답 콘텐츠가 생성
        2. HTML 템플릿에 있는 자리 표시자에 데이터베이스에서 가져온 데이터를 넣어 생성
        3. 사용자또는 저장된 환경을 기반으로 URL에 대해 다른 데이터를 반환
        4. 응답을 반환하는 과정에서 다른 작업을 수행 할 수 있다.

    - Django는 무엇을 위한 도구인가요?
        - 보안이 우수하고 유지보수가 편리한 웹사이트를 신속하게 개발하는 하도록 도움을 주는 파이썬 웹 프레임워크
        - 프레임워크를 활용하여 앱 개발에만 집중
        - 참고자료와 무료 및 유료 지원을 하는 옵션들이 제공
        - Complete(완결성 있는), Versatile(다용도의), Secure(안전한), Scalable(확장성 있는),
        - Maintainable(유지보수가 쉬운), Portable(포터블한)

- HTTP는 무엇이고 요청과 응답 메시지 구성은 어떻게 되나요?
    - [HTTP 개요 - HTTP | MDN (mozilla.org)](https://developer.mozilla.org/ko/docs/Web/HTTP/Overview)

    - HTTP
        - HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 프로토콜
        - 웹에서 이루어지는 모든 데이터 교환의 기초
        - 클라이언트-서버 프로토콜
            - 수신자 측에 의해 요청이 초기화되는 프로토콜을 의미

    - 요청과 응답 메시지 구성
        - 메세지 : HTTP 메시지의 두 가지 타입인 요청(requests)과 응답(responses)은 각자의 특성있는 형식을 가지고 있습니다.

        - 요청 :
            - * HTTP 메서드, 보통 클라이언트가 수행하고자 하는 동작을 정의한 `GET`, `POST`같은 동사나 `OPTIONS`나`HEAD`와 같은 명사입니다. 일반적으로, 클라이언트는 리소스를 가져오거나(`GET`을 사용하여) `HTML 폼`의 데이터를 전송(`POST`를 사용하여)하려고 하지만, 다른 경우에는 다른 동작이 요구될 수도 있습니다.
            - 가져오려는 리소스의 경로; 예를 들면 `프로토콜` (`http://`), `도메인 (en-US)` (여기서는 `developer.mozilla.org`), 또는 TCP `포트 (en-US)` (여기서는 `80`)인 요소들을 제거한 리소스의 URL
            - * HTTP 프로토콜의 버전.
            - 서버에 대한 추가 정보를 전달하는 선택적 헤더들
            - `POST`와 같은 몇 가지 메서드를 위한, 전송된 리소스를 포함하는 응답의 본문과 유사한 본문.

        - 응답 :
            - HTTP 프로토콜의 버전
            - 요청의 성공 여부와, 그 이유를 나타내는 상태 코드
            - 아무런 영향력이 없는, 상태 코드의 짧은 설명을 나타내는 상태 메시지.
            - 요청 헤더와 비슷한, HTTP 헤더들
            - 선택 사항으로, 가져온 리소스가 포함되는 본문


- 프레임워크는 무엇일까요?(외부 자료 조사)
     - 누군가 만들어 놓은 코드를 재사용 하는 것은 이미 익숙한 개발 문화
     - ‘웹 서비스’도 누군가 개발해 놓은 코드를 재사용하면 된다!
     - 자주 사용되는 부분들을 재사용 할 수 있게 좋은 구조의 코드로 만들어 두었음
     - 서비스 개발에 필요한 기능들을 미리 구현해서 모아 놓은 것 = 프레임워크(Framework)
     - Frame(뼈대, 틀) + Work(일하다)
     - 소프트웨어의 생산성과 품질을 높임
     
- 웹 추천 영상
    - [CS50 2017 - Lecture 6 - HTTP - YouTube](https://www.youtube.com/watch?v=PUPDGbnpSjw)